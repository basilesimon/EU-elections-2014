<!DOCTYPE html>
<html>
<head>
  <title>Elections</title>
  <meta charset="utf-8"></meta>
  <script type="text/javascript" src="d3.js"></script>
  <style>
    body {
      background-color: #fafafa;
      margin: 0;
      padding: 0;
    }
    div.chart{
      font-family:sans-serif;
      font-size:0.9em;
    }
    div.bar {
      background-color:DarkRed;
      color:white;
      height:3em;
      line-height:3em;
      padding-right:1em;
      margin-bottom:2px;
      text-align:right;
      margin-left:22em;
      border-radius: 2px;
    }
    div.label {
      height:3em;
      line-height:3em;
      padding-right:1em;
      margin-bottom:2px;
      float:left;
      width:20em;
      text-align:right;
    }
    h1{
      font-family: sans-serif;
      text-align: center;
    }
    p{
      font-family: sans-serif;
      padding-left: 20%;
      width: 60%;
    }
    header {
      display: block;
      background-color: #cd0102;
      width: 100%;
      height: 50px;
    }
    header img {
      padding: 5px;
    }
  </style>

  <script>
d3.json('parties.json', draw);

function draw(data) {
  d3.select("body")
    .append("div")
    .attr("class", "chart")
    .selectAll("div.bar")
    .data(data)
    .enter()
    .append("div")
    .attr("class","line");

  d3.selectAll("div.line")
    .append("div")
    .attr("class","label")
    .text(function(d){return d.id});

  d3.selectAll("div.line")
    .append("div")
    .attr("class","bar")
    .style("width", function(d){return d.no  * 4 + "px"})
    .on("mouseover", function(d) {
      d3.select(this)
      .append("text").style("pointer-events", "none")
      .text(function(d){return d.no + " candidates";});
      d3.select(this)
        .transition().duration(300)
        .style("background-color", "#EE3B3B");
      })
    .on("mouseout", function(d) {
      d3.select(this)
      .select("text").remove();
      d3.select(this)
        .transition().duration(300)
        .style("background-color", "DarkRed");
      });
  }
  </script>
</head>
<body>
  <header>
    <img src="bbc_blocks.png" width="84" height="24">
  </header>
  <h1>Number of candidates to the UK European elections by party</h1>
</body>
</html>
